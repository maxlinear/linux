# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/pinctrl/intel,lgm-io.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Intel Lightning Mountain SoC pinmux & GPIO controller binding

maintainers:
  - Rahul Tanwar <rahul.tanwar@linux.intel.com>

description: |
  Pinmux & GPIO controller controls pin multiplexing & configuration including
  GPIO function selection & GPIO attributes configuration.

Required properties:
  compatible:
    const: intel,lgm-io

  reg:
    maxItems: 1

Optional properties:
  #pinctrl-cells: number of cells of topmux. set it to 2.

  pinctrl,syscon: reference node to topmux register

# Client device subnode's properties
patternProperties:
  '-pins$':
    type: object
    description:
      Pinctrl node's client devices use subnodes for desired pin configuration.
      Client device subnodes use below standard properties.
    $ref: pinmux-node.yaml#

    properties:
      function: true
      groups: true
      intel,pins: true
      pinmux: true
      bias-pull-up: true
      bias-pull-down: true
      drive-strength: true
      slew-rate: true
      drive-open-drain: true
      output-enable: true

    required:
      - function
      - groups
      - intel,pins

    additionalProperties:
      topmux: extra register configuration in order to make the pinmux work.
              The format of the topmux: <register_offset mask value>

required:
  - compatible
  - reg

additionalProperties: true

examples:
  # Pinmux controller node
  - |
    pinctrl: pinctrl@e2880000 {
        compatible = "intel,lgm-io";
        reg = <0xe2880000 0x100000>;
        #pinctrl-cells = <2>;
        pinctrl-syscon = <&sysconf>;

        uart0-pins {
             intel,pins = <64>, /* UART_RX0 */
                          <65>; /* UART_TX0 */
             function = "CONSOLE_UART0";
             pinmux = <1>,
                      <1>;
             groups = "CONSOLE_UART0";
             topmux = <0xE8 0x3 0>;
        };
    };

...
